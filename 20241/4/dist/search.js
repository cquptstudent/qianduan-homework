(()=>{let e={code:null,account:{id:null,userName:null},profile:{userId:null,nickname:null,avatarImgId:null,avatarUrl:null}},n=!1;const t=document.getElementById("head_4"),l=document.getElementById("username_4");let o={code:null};fetch(`http://localhost:3000/login/refresh?timestamp=${(new Date).getTime()}&noCookie=true`).then((e=>e.json())).then((e=>o=e)).then((()=>{301===o.code?console.log("not login"):200===o.code?console.log("Logged in"):console.log(o.code)})).then((()=>{fetch(`http://localhost:3000/user/account?timestamp=${(new Date).getTime()}`).then((e=>e.json())).then((n=>e=n)).then((()=>{n=null!=e.account&&null!=e.account.id,n&&(null===e.profile?(t.setAttribute("src","../img/default_head.png"),l.innerText=e.account.userName):(t.setAttribute("src",e.profile.avatarUrl),l.innerText=e.profile.nickname.toString())),null!==e.account.id&&fetch(`http://localhost:3000/user/playlist?uid=${e.account.id}`).then((e=>e.json)).then((e=>geDanListByUser=e))}))}))})(),document.getElementById("album_picture_4"),document.getElementById("title_6"),document.getElementById("singer_6"),document.getElementById("now_time_6"),document.getElementById("total_time_6"),document.getElementById("left_place_7"),document.getElementById("right_place_7"),document.getElementById("progress_bar_6"),document.getElementById("now_7"),document.getElementById("stop_continue_button_6"),document.getElementById("continue_or_stop_7"),window.playSongsObject=[],function(){let e=decodeURI(document.URL);e=e.slice(e.indexOf("=")+1),Number(e)}(),(()=>{page=6;let e,n={result:{searchQcReminder:null,songs:[{name:null,id:null,ar:[{id:null,name:null,tns:[]}],alia:[],al:{id:null,name:null,picUrl:null},dt:null}],songCount:null}},t={result:{searchQcReminder:null,playlists:[{id:null,name:null,coverImgUrl:null,creator:{nickname:null,id:null},trackCount:null,recommendText:null}],playlistCount:null}};const l=document.getElementById("search_key_word_6"),o=document.getElementById("number_searched_6");let s=document.getElementsByClassName("table_one_row_6"),u=document.getElementById("table_5"),c=document.getElementsByClassName("number_in_search_result_7"),d=document.getElementsByClassName("album_picture_7"),i=document.getElementsByClassName("song_8"),a=document.getElementsByClassName("singer_8"),r=document.getElementsByClassName("album_name_7"),m=document.getElementsByClassName("time_7");function g(){let e=decodeURI(document.URL);return e=e.slice(e.indexOf("=")+1),console.log(e),e}function _(e){let t="";t+=n.result.songs[e].ar[0].name;for(let l=1;l<n.result.songs[e].ar.length;l++)t+="/",t+=n.result.songs[e].ar[l].name;return t}function h(e){let t=n.result.songs[e].dt,l=Math.floor(t/1e3),o=Math.floor(l/60);return l%=60,l<10?`${o}:0${l}`:`${o}:${l}`}g(),refreshStatus(),e=g(),fetch(`http://localhost:3000/cloudsearch?keywords=${e}&limit=100&type=1`).then((e=>e.json())).then((e=>n=e)).then((()=>{!function(){if(null!=n.result&&s.length<n.result.songs.length)for(let e=s.length;e<n.result.songs.length;e++){let e='<div class="number_in_search_result_7"></div>\n                            <div class="album_picture_7"></div>\n                            <div class="song_and_singer_7">\n                                <div class="song_8"></div>\n                                <div class="singer_8"></div>\n                            </div>\n                            <div class="album_name_7"></div>\n                            <div class="time_7"></div>',n=document.createElement("div");n.innerHTML=e,n.setAttribute("class","table_one_row_6"),u.appendChild(n)}}()})).then((()=>{l.innerHTML=e,o.innerHTML=n.result.songCount})).then((()=>{!function(){for(let e=0;e<s.length;e++){if(c[e].innerHTML=(e+1).toString(),d[e].style.cssText+=`background: url(${n.result.songs[e].al.picUrl+"?param=51y51"})`,i[e].innerHTML=n.result.songs[e].name,0!==n.result.songs[e].alia.length)for(const t of n.result.songs[e].alia)i[e].innerHTML+=` (${t})`;a[e].innerHTML=_(e),r[e].innerHTML=n.result.songs[e].al.name,m[e].innerHTML=h(e)}}(),function(){for(let e=0;e<s.length;e++)s[e].ondblclick=()=>{console.log("2"),songId=n.result.songs[e].id,console.log(`searchValueSingle.result.songs[i].id = ${n.result.songs[e].id}`),console.log(`songId = ${songId}`),refreshStatus()}}(),console.log(n)})),fetch(`http://localhost:3000/cloudsearch?keywords=${e}&limit=100&type=1000`).then((e=>{e.json().then((e=>t=e)),console.log(`playlist status: ${e.status}`)}))})(),(()=>{let e,n={code:null,data:[{searchWord:null,score:null,content:null,source:null,iconType:null,iconUrl:null,url:null,alg:null}],message:null},t=null,l=document.getElementById("under_0"),o=document.getElementById("under_1");const s=document.getElementById("search_box_2"),u=document.getElementById("right_side_1"),c=document.getElementById("right_side_2"),d=document.getElementById("login_window_2"),i=document.getElementById("button_3"),a=document.getElementById("input_3");let r=document.getElementsByClassName("hot_4"),m=document.getElementsByClassName("number_in_hot_5"),g=document.getElementsByClassName("name_5");function _(e){return(e+1).toString()}function h(){t=n;let e=document.getElementsByClassName("number_in_hot_5"),l=document.getElementsByClassName("name_5"),o=document.getElementsByClassName("hot_4"),s=document.getElementById("new_item_2");if(null!=s){for(const e of o)e.remove();for(const n of e)n.remove();for(const e of l)e.remove();s.remove()}}fetch("http://localhost:3000/search/hot/detail").then((e=>{e.json().then((e=>n=e)),console.log(`hot status: ${e.status}`)})),setTimeout((()=>{s.addEventListener("click",(function(){!function(){let e=document.createElement("div");e.innerHTML='<div id="show_3">\n<div class="top_place_4">\n热搜榜\n</div>\n</div>',e.setAttribute("id","new_item_2"),console.log(window.page),1===window.page?u.appendChild(e):2===window.page||3===window.page?d.appendChild(e):c.appendChild(e)}(),e=document.getElementById("show_3"),function(){for(let t=0;t<n.data.length;t++){let n='<div class="number_in_hot_5"></div>\n<div class="name_5"></div>',t=document.createElement("div");t.innerHTML=n,t.setAttribute("class","hot_4"),e.appendChild(t)}}(),function(){for(let e=0;e<3;e++)m[e].setAttribute("class","number_in_hot_5 very_hot_5")}(),function(){for(let e=0;e<20;e++)m[e].innerHTML=_(e),g[e].innerHTML=n.data[e].searchWord}(),function(){r=document.getElementsByClassName("hot_4");for(let e=0;e<r.length;e++)r[e].addEventListener("click",(()=>{window.open(encodeURI("./search.html?keyWord="+g[e].textContent))}))}()})),null!==l?l.addEventListener("click",(function(){h()})):o.addEventListener("click",h),setTimeout((()=>{a.addEventListener("keyup",(function(e){"enter"===e.key&&window.open(encodeURI("./search.html?keyWord="+a.value))})),i.onclick=function(){window.open(encodeURI("./search.html?keyWord="+a.value))}}),200)}),100)})();
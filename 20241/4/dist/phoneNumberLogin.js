(()=>{let e={code:null,account:{id:null,userName:null},profile:{userId:null,nickname:null,avatarImgId:null,avatarUrl:null}},t=!1;const n=document.getElementById("head_4"),l=document.getElementById("username_4");let o={code:null};fetch(`http://localhost:3000/login/refresh?timestamp=${(new Date).getTime()}&noCookie=true`).then((e=>e.json())).then((e=>o=e)).then((()=>{301===o.code?console.log("not login"):200===o.code?console.log("Logged in"):console.log(o.code)})).then((()=>{fetch(`http://localhost:3000/user/account?timestamp=${(new Date).getTime()}`).then((e=>e.json())).then((t=>e=t)).then((()=>{t=null!=e.account&&null!=e.account.id,t&&(null===e.profile?(n.setAttribute("src","../img/default_head.png"),l.innerText=e.account.userName):(n.setAttribute("src",e.profile.avatarUrl),l.innerText=e.profile.nickname.toString())),null!==e.account.id&&fetch(`http://localhost:3000/user/playlist?uid=${e.account.id}`).then((e=>e.json)).then((e=>geDanListByUser=e))}))}))})(),(()=>{window.page=3;const e=document.getElementById("phone_number_7"),t=document.getElementById("password_input_7"),n=document.getElementById("button_to_click_4");let l={exist:null,nickname:null,hasPassword:null,avatarUrl:null,hasSnsBinded:null,countryCode:null,cellphone:null,code:null},o={code:null},c=!0;document.addEventListener("DOMContentLoaded",(()=>{n.onclick=function(){var n;console.log(`telephone number = ${e.value}`),n=e.value,c=1!==Math.floor(Number(n)/1e10)?(alert("请输入正确的手机号"),!1):(fetch(`http://localhost:3000/cellphone/existence/check?phone=${n}&timestamp=${(new Date).getTime()}`,{method:"POST"}).then((e=>e.json())).then((e=>l=e)).then((()=>-1!==l.exist||(alert("手机号未注册"),!1))),!0),!1!==c&&fetch(`http://localhost:3000/login/cellphone?phone=${e.value}&password=${t.value}&timestamp=${(new Date).getTime()}`).then((e=>e.json())).then((e=>o=e)).then((()=>{console.log(`correctPassword.code = ${o.code}`),200!==o.code?alert("账号或密码错误！"):window.location.replace("1_start.html")}))}}))})();